<html>
<script>
function int(fx,a,b,n) {  // http://johndfenton.com/Lectures/Numerical-Methods/Numerical-Methods.pdf
  dx =  (b-a)/n;
  sum = 0;
  odd = true;
  sum += fx(a);
  for (i=a + dx; i<=b -dx/2; i = i + dx) {
    //console.log('i: ' + i + ' fx: ' + fx(i))
    if (odd) {
      sum += 4*fx(i);
    } else {
      sum += 2*fx(i);
    }
    odd = !odd;
  }
  sum += fx(b);
  sum = sum *dx /3;
  return sum;
}
  
function simp(fx,a,b,n) {  // http://smath.info/wiki/GetFile.aspx?File=Examples/simpsonrichardson.pdf
  h =  (b-a)/n;
  sum = 0;
  sum += fx(a)/2;
  for (i=1; i<= n-1; i = i + 1) {
      sum += fx(a+i*h);
    }
  for (i=1; i<= n; i = i + 1) {
      sum += 2*fx(a-h/2+i*h);
    }
  
  sum += fx(b)/2;
  sum = sum *h /3;
  return sum;
}

fx=function (x) {return Math.sin(x)}

int(fx,3,5,128)
</script>
<body>
<a href='http://johndfenton.com/Lectures/Numerical-Methods/Numerical-Methods.pdf'>Compound Simpson's Rule (pag 18)</a>
</body>
</html>
